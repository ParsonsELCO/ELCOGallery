!function(e){function t(t){for(var n,a,s=t[0],c=t[1],u=t[2],h=0,f=[];h<s.length;h++)a=s[h],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(l&&l(t);f.length;)f.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==o[c]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},o={0:0},i=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([169,1]),r()}({160:function(e,t){},169:function(e,t,r){"use strict";r.r(t);var n=r(0),o=(r(123),r(27),r(79),r(80),r(82),r(83),r(21),r(66),r(130),r(131),r(88),r(89),r(90),r(25),r(92),r(26),r(94),r(35),r(139),function(e,t){void 0===t&&(console.warn('THREE.EditorControls: The second parameter "domElement" is now mandatory.'),t=document),this.object=e,this.domElement=t,this.enabled=!0,this.movementSpeed=1,this.lookSpeed=.005,this.lookVertical=!0,this.autoForward=!1,this.activeLook=!0,this.heightSpeed=!1,this.heightCoef=1,this.heightMin=0,this.heightMax=1,this.constrainVertical=!1,this.verticalMin=0,this.verticalMax=Math.PI,this.mouseDragOn=!1,this.autoSpeedFactor=0,this.mouseX=0,this.mouseY=0,this.moveForward=!1,this.moveBackward=!1,this.moveLeft=!1,this.moveRight=!1,this.viewHalfX=0,this.viewHalfY=0;var r,o=0,i=0,a=new n.Fb,s=new n.ub,c=new n.Fb;function u(e){e.preventDefault()}this.domElement!==document&&this.domElement.setAttribute("tabindex",-1),this.handleResize=function(){this.domElement===document?(this.viewHalfX=window.innerWidth/2,this.viewHalfY=window.innerHeight/2):(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/2)},this.onMouseDown=function(e){this.domElement!==document&&this.domElement.focus(),this.mouseDragOn=!0},this.onMouseUp=function(e){this.mouseDragOn=!1},this.onMouseMove=function(e){this.domElement===document?(this.mouseX=e.pageX-this.viewHalfX,this.mouseY=e.pageY-this.viewHalfY):(this.mouseX=e.pageX-this.domElement.offsetLeft-this.viewHalfX,this.mouseY=e.pageY-this.domElement.offsetTop-this.viewHalfY)},this.onKeyDown=function(e){switch(e.keyCode){case 87:this.moveForward=!0;break;case 65:this.moveLeft=!0;break;case 83:this.moveBackward=!0;break;case 68:this.moveRight=!0;break;case 69:this.moveUp=!0;break;case 81:this.moveDown=!0;break;case 32:this.logPosAndRot()}},this.onKeyUp=function(e){switch(e.keyCode){case 87:this.moveForward=!1;break;case 65:this.moveLeft=!1;break;case 83:this.moveBackward=!1;break;case 68:this.moveRight=!1;break;case 69:this.moveUp=!1;break;case 81:this.moveDown=!1}},this.lookAt=function(e,t,r){return e.isVector3?c.copy(e):c.set(e,t,r),this.object.lookAt(c),v(this),this},this.update=(r=new n.Fb,function(e){if(!1!==this.enabled){this.autoSpeedFactor=0;var t=e*this.movementSpeed;(this.moveForward||this.autoForward&&!this.moveBackward)&&this.object.translateZ(-(t+this.autoSpeedFactor)),this.moveBackward&&this.object.translateZ(t),this.moveLeft&&this.object.translateX(-t),this.moveRight&&this.object.translateX(t),this.moveUp&&this.object.translateY(t),this.moveDown&&this.object.translateY(-t);var a=e*this.lookSpeed;this.activeLook||this.mouseDragOn||(a=0);var s=1;this.constrainVertical&&(s=Math.PI/(this.verticalMax-this.verticalMin)),i-=this.mouseX*a,this.lookVertical&&(o-=this.mouseY*a*s),o=Math.max(-85,Math.min(85,o));var c=n.M.degToRad(90-o),u=n.M.degToRad(i);this.constrainVertical&&(c=n.M.mapLinear(c,0,Math.PI,this.verticalMin,this.verticalMax));var l=this.object.position;r.setFromSphericalCoords(1,c,u).add(l),this.object.lookAt(r)}}),this.logPosAndRot=function(){console.log("camera position: THREE.Vector3("+this.object.position.x+", "+this.object.position.y+", "+this.object.position.z+")"),console.log("camera rotation: THREE.Euler("+this.object.rotation.x+", "+this.object.rotation.y+", "+this.object.rotation.z+"'XYZ')")},this.dispose=function(){this.domElement.removeEventListener("contextmenu",u,!1),this.domElement.removeEventListener("mousedown",h,!1),this.domElement.removeEventListener("mousemove",l,!1),this.domElement.removeEventListener("mouseup",f,!1),window.removeEventListener("keydown",p,!1),window.removeEventListener("keyup",d,!1)};var l=m(this,this.onMouseMove),h=m(this,this.onMouseDown),f=m(this,this.onMouseUp),p=m(this,this.onKeyDown),d=m(this,this.onKeyUp);function m(e,t){return function(){t.apply(e,arguments)}}function v(e){var t=e.object.quaternion;a.set(0,0,-1).applyQuaternion(t),s.setFromVector3(a),o=90-n.M.radToDeg(s.phi),i=n.M.radToDeg(s.theta)}this.domElement.addEventListener("contextmenu",u,!1),this.domElement.addEventListener("mousemove",l,!1),this.domElement.addEventListener("mousedown",h,!1),this.domElement.addEventListener("mouseup",f,!1),window.addEventListener("keydown",p,!1),window.addEventListener("keyup",d,!1),this.handleResize(),v(this)}),i=r(112),a=r.n(i);r(46),r(47),r(101),r(103);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.webgl=t,this.raycaster=new n.nb,this.coords=new n.Eb,this.pickedObject=null}var t,r,o;return t=e,(r=[{key:"onPointerDown",value:function(e,t){var r=s(t,2),n=r[0],o=r[1];this.coords.set(n/this.webgl.width*2-1,-o/this.webgl.height*2+1),this.raycaster.setFromCamera(this.coords,this.webgl.camera),console.log(this.webgl.interactables.children);var i=this.raycaster.intersectObjects(this.webgl.interactables.children);console.log(i.length>0?"Hit ".concat(i[0].object.name,"!"):"No hit")}},{key:"onPointerMove",value:function(e,t){var r=s(t,2),n=r[0],o=r[1];this.coords.set(n/this.webgl.width*2-1,-o/this.webgl.height*2+1)}},{key:"onPointerUp",value:function(e,t){var r=s(t,2);r[0],r[1]}}])&&u(t.prototype,r),o&&u(t,o),e}(),h=r(113),f=r.n(h),p=r(114),d=r.n(p),m=r(115),v=r(122),b=r(116);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var k=0;function E(e){return"__private_"+k+++"_"+e}var P=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.background,s=void 0===i?"#000":i,c=r.backgroundAlpha,u=void 0===c?1:c,h=r.fov,f=void 0===h?75:h,p=r.near,O=void 0===p?1:p,k=r.far,E=void 0===k?1e3:k,P=r.editorControls,L=void 0===P||P,C=g(r,["background","backgroundAlpha","fov","near","far","editorControls"]);!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,x,{writable:!0,value:[]}),Object.defineProperty(this,S,{writable:!0,value:new n.Fb}),Object.defineProperty(this,R,{writable:!0,value:void 0}),Object.defineProperty(this,M,{writable:!0,value:void 0}),Object.defineProperty(this,T,{writable:!0,value:void 0}),this.resize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.width,n=void 0===r?t.width:r,o=e.height,i=void 0===o?t.height:o,a=e.pixelRatio,s=void 0===a?t.pixelRatio:a;return t.renderer.getPixelRatio()!==s&&t.renderer.setPixelRatio(s),t.renderer.setSize(n,i),t.camera.isPerspectiveCamera&&(t.camera.aspect=n/i),t.camera.updateProjectionMatrix(),t.composer&&t.composer.setSize(s*n,s*i),t.editorControls&&t.editorControls.handleResize(),t.scene.traverse(function(e){"function"==typeof e.resize&&e.resize({width:n,height:i,pixelRatio:s})}),t.draw(),t},this.saveScreenshot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.width,n=void 0===r?3840:r,o=e.height,i=void 0===o?2160:o,a=e.fileName,s=void 0===a?"image.png":a;t.resize({width:n,height:i,pixelRatio:1}),t.draw();var c=t.canvas.toDataURL("image/png");t.resize(),t.draw(),D(s,c)},this.update=function(e,r,n){return t.editorControls&&t.editorControls.update(e),t.scene.traverse(function(t){"function"==typeof t.update&&t.update(e,r,n)}),j(t,x)[x].forEach(function(t){return t(e,r,n)}),t},this.draw=function(){return t.composer?t.composer.render():t.renderer.render(t.scene,t.camera),t},this.start=function(){if(!t.isRunning)return t.renderer.setAnimationLoop(t.animate),t.isRunning=!0,t},this.stop=function(){if(t.isRunning)return t.renderer.setAnimationLoop(null),t.isRunning=!1,t},this.animate=function(e,r){if(t.isRunning){t.stats&&t.stats.begin();var n=Math.min(t.maxDeltaTime,(e-j(t,R)[R])/1e3);t.time+=n,j(t,R)[R]=e,t.update(n,t.time,r),t.draw(),t.stats&&t.stats.end()}},this.traverse=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];t.scene.traverse(function(t){"function"==typeof t[e]&&t[e].apply(t,n)})},this.renderer=new n.Jb(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({antialias:!1,alpha:!1,preserveDrawingBuffer:!1},C)),this.canvas=this.renderer.domElement,this.renderer.setClearColor(s,u),C.xr&&(this.renderer.xr.enabled=!0),j(this,M)[M]=C.width,j(this,T)[T]=C.height,this.maxPixelRatio=C.maxPixelRatio||2,this.maxDeltaTime=C.maxDeltaTime||1/30,this.camera=new n.cb(f,1,O,E),this.camera.position.set(0,2,0),this.scene=new n.pb,this.gl=this.renderer.getContext(),this.time=0,this.isRunning=!1,j(this,R)[R]=performance.now(),window.addEventListener("resize",this.resize),window.addEventListener("orientationchange",this.resize),this.resize(),C.postprocessing&&(this.composer=new v.a(this.renderer),this.composer.addPass(new b.a(this.scene,this.camera))),this.pickHelper=new l(this),this.interactables=new Array,this.touchHandler=a()(this.canvas,{target:this.canvas,filtered:!0}),this.isDragging=!1,this.touchHandler.on("start",function(e,r){t.isDragging=!0,t.pickHelper.onPointerDown(e,r)}),this.touchHandler.on("end",function(e,r){t.isDragging=!1}),L&&(this.editorControls=new o(this.camera,this.renderer.domElement),this.editorControls.movementSpeed=10,this.editorControls.lookSpeed=.1,this.editorControls.activeLook=!1),C.showFps&&(this.stats=new d.a,this.stats.showPanel(0),document.body.appendChild(this.stats.dom));var _=Object(m.getGPUTier)({glContext:this.renderer.getContext()});this.gpu={name:_.type,tier:Number(_.tier.slice(-1)),isMobile:_.tier.toLowerCase().includes("mobile")}}var t,r,i;return t=e,(r=[{key:"onUpdate",value:function(e){j(this,x)[x].push(e)}},{key:"offUpdate",value:function(e){var t=j(this,x)[x].indexOf(e);-1!==t&&j(this,x)[x].splice(t,1)}},{key:"width",get:function(){return j(this,M)[M]||window.innerWidth}},{key:"height",get:function(){return j(this,T)[T]||window.innerHeight}},{key:"pixelRatio",get:function(){return Math.min(this.maxPixelRatio,window.devicePixelRatio)}},{key:"cursor",get:function(){return this.canvas.style.cursor},set:function(e){this.canvas.style.cursor=e||null}}])&&O(t.prototype,r),i&&O(t,i),e}(),x=E("updateListeners"),S=E("tmpTarget"),R=E("lastTime"),M=E("width"),T=E("height");function D(e,t){var r=f()(t),n=document.createElement("a");n.download=e,n.href=window.URL.createObjectURL(r),n.onclick=setTimeout(function(){window.URL.revokeObjectURL(r),n.removeAttribute("href")},0),n.click()}r(145),r(146),r(147),r(105),r(109);var L=r(117),C=r.n(L),_=r(50),A=r.n(_),F=r(49),U=r(118);r(162),r(163),r(165);function H(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function Y(e,t){return z.apply(this,arguments)}function z(){var e;return e=regeneratorRuntime.mark(function e(t,r){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new n.xb).name=t,o.encoding=r.encoding||n.E,I(t,o,r),e.prev=4,e.next=7,Object(F.a)(t,{crossorigin:"anonymous"});case 7:return i=e.sent,o.image=i,o.needsUpdate=!0,r.renderer&&r.renderer.initTexture(o),e.abrupt("return",o);case 14:throw e.prev=14,e.t0=e.catch(4),new Error("Could not load texture ".concat(t));case 17:case"end":return e.stop()}},e,null,[[4,14]])}),(z=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){H(i,n,o,a,s,"next",e)}function s(e){H(i,n,o,a,s,"throw",e)}a(void 0)})}).apply(this,arguments)}function I(e,t,r){if("boolean"==typeof r.flipY&&(t.flipY=r.flipY),void 0!==r.mapping&&(t.mapping=r.mapping),void 0!==r.format)t.format=r.format;else{var o=e.search(/\.(jpg|jpeg)$/)>0||0===e.search(/^data:image\/jpeg/);t.format=o?n.mb:n.lb}r.repeat&&t.repeat.copy(r.repeat),t.wrapS=r.wrapS||n.h,t.wrapT=r.wrapT||n.h,t.minFilter=r.minFilter||n.G,t.magFilter=r.magFilter||n.F,t.generateMipmaps=!1!==r.generateMipmaps}function B(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function $(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){G(i,n,o,a,s,"next",e)}function s(e){G(i,n,o,a,s,"throw",e)}a(void 0)})}}function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach(function(t){q(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Q=0;function Z(e){return"__private_"+Q+++"_"+e}var ee=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,te,{writable:!0,value:[]}),Object.defineProperty(this,re,{writable:!0,value:{}}),Object.defineProperty(this,ne,{writable:!0,value:[]}),Object.defineProperty(this,oe,{writable:!0,value:10}),Object.defineProperty(this,ie,{writable:!0,value:[]}),this.get=function(e){if(!e)throw new TypeError("Must specify an URL for AssetManager.get()");if(!(e in J(t,re)[re]))throw new Error("The asset ".concat(e," is not in the loaded files."));return J(t,re)[re][e]}}var t,r,n,o,i,a;return t=e,(r=[{key:"addProgressListener",value:function(e){if("function"!=typeof e)throw new TypeError("onProgress must be a function");J(this,ne)[ne].push(e)}},{key:"queue",value:function(e){var t=e.url,r=e.type,n=W(e,["url","type"]);if(!t)throw new TypeError("Must specify a URL or opt.url for AssetManager.queue()");return this._getQueued(t)||J(this,te)[te].push(N({url:t,type:r||this._extractType(t)},n)),t}},{key:"_getQueued",value:function(e){return J(this,te)[te].find(function(t){return t.url===e})}},{key:"_extractType",value:function(e){var t=e.slice(e.lastIndexOf("."));switch(!0){case/\.(gltf|glb)$/i.test(t):return"gltf";case/\.fbx$/i.test(t):return"fbx";case/\.json$/i.test(t):return"json";case/\.svg$/i.test(t):return"svg";case/\.(jpe?g|png|gif|bmp|tga|tif)$/i.test(t):return"image";case/\.(wav|mp3)$/i.test(t):return"audio";case/\.(mp4|webm|ogg|ogv)$/i.test(t):return"video";default:throw new Error("Could not load ".concat(e,", unknown file extension!"))}}},{key:"loadSingle",value:(a=$(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.renderer,n=W(t,["renderer"]),r){e.next=3;break}throw new Error("You must provide a renderer to the loadSingle function.");case 3:return e.prev=3,o=Date.now(),e.next=7,this._loadItem(N({renderer:r},n));case 7:return J(this,re)[re][n.url]=e.sent,window.DEBUG&&console.log("\ud83d\udce6 Loaded single asset %c".concat(n.url,"%c in ").concat(A()(Date.now()-o)),"color:blue","color:black"),e.abrupt("return",n.url);case 12:e.prev=12,e.t0=e.catch(3),delete J(this,re)[re][n.url],console.error("\ud83d\udce6  Could not load ".concat(n.url,":\n").concat(e.t0));case 16:case"end":return e.stop()}},e,this,[[3,12]])})),function(e){return a.apply(this,arguments)})},{key:"load",value:(i=$(regeneratorRuntime.mark(function e(t){var r,n,o,i,a,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.renderer){e.next=3;break}throw new Error("You must provide a renderer to the load function.");case 3:if(n=J(this,te)[te].slice(),J(this,te)[te].length=0,0!==(o=n.length)){e.next=9;break}return setTimeout(function(){return J(s,ne)[ne].forEach(function(e){return e(1)})},0),e.abrupt("return");case 9:return i=Date.now(),e.next=12,C()(n,function(){var e=$(regeneratorRuntime.mark(function e(t,n){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=Date.now(),e.next=4,s._loadItem(N({renderer:r},t));case 4:J(s,re)[re][t.url]=e.sent,window.DEBUG&&s.log("Loaded %c".concat(t.url,"%c in ").concat(A()(Date.now()-i)),"color:blue","color:black"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s.logError("Skipping ".concat(t.url," from asset loading:\n").concat(e.t0));case 11:a=(n+1)/o,J(s,ne)[ne].forEach(function(e){return e(a)});case 13:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,r){return e.apply(this,arguments)}}(),{concurrency:J(this,oe)[oe]});case 12:window.DEBUG&&(a=J(this,ie)[ie].filter(function(e){return"error"===e.type}),this.groupLog("\ud83d\udce6 Assets loaded in ".concat(A()(Date.now()-i)," \u23f1 ").concat(a.length>0?"%c \u26a0\ufe0f Skipped ".concat(a.length," asset").concat(a.length>1?"s":""," "):""),a.length>0?"color:white;background:red;":""));case 13:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"_loadItem",value:(o=$(regeneratorRuntime.mark(function e(t){var r,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,n=t.type,o=t.renderer,i=W(t,["url","type","renderer"]),!(r in J(this,re)[re])){e.next=3;break}return e.abrupt("return",J(this,re)[re][r]);case 3:e.t0=n,e.next="gltf"===e.t0?6:"fbx"===e.t0?7:"json"===e.t0?8:"svg"===e.t0?9:"image"===e.t0?9:"texture"===e.t0?10:"audio"===e.t0?11:"video"===e.t0?12:13;break;case 6:return e.abrupt("return",new Promise(function(e,t){(new U.a).load(r,e,null,function(e){return t(new Error("Could not load GLTF asset ".concat(r,":\n").concat(e)))})}));case 7:return e.abrupt("return",new Promise(function(e,t){(new FBXLoader).load(r,e,null,function(e){return t(new Error("Could not load FBX asset ".concat(r,":\n").concat(e)))})}));case 8:return e.abrupt("return",fetch(r).then(function(e){return e.json()}));case 9:return e.abrupt("return",Object(F.a)(r,{crossorigin:"anonymous"}));case 10:return e.abrupt("return",Y(r,N({renderer:o},i)));case 11:return e.abrupt("return",fetch(r).then(function(e){return e.arrayBuffer()}));case 12:return e.abrupt("return",fetch(r).then(function(e){return e.blob()}));case 13:throw new Error("Could not load ".concat(r,", the type ").concat(n," is unknown!"));case 14:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];J(this,ie)[ie].push({type:"log",text:t})}},{key:"logError",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];J(this,ie)[ie].push({type:"error",text:t})}},{key:"groupLog",value:function(){var e;(e=console).groupCollapsed.apply(e,arguments),J(this,ie)[ie].forEach(function(e){var t;(t=console)[e.type].apply(t,B(e.text))}),console.groupEnd(),J(this,ie)[ie].length=0}}])&&K(t.prototype,r),n&&K(t,n),e}(),te=Z("queue"),re=Z("cache"),ne=Z("onProgressListeners"),oe=Z("asyncConcurrency"),ie=Z("logs"),ae=new ee,se=(new n.k).setPath("assets/textures/skybox/skyboxPink/").load(["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]),ce=new n.T({name:"Flower",color:"hsl(323, 66%, 67%)",roughness:.5,metalness:0,side:n.o}),ue=(new n.T({name:"Building",color:"hsl(323, 66%, 67%)",roughness:.75,metalness:0}),new n.T({name:"Neon",color:16777215,emissive:16777215,emissiveIntensity:2,roughness:0,metalness:0})),le=(new n.T({name:"Neon",color:"hsl(323, 66%, 67%)",emissive:"hsl(323, 66%, 67%)",emissiveIntensity:2,roughness:0,metalness:0}),new n.S({name:"StairPillar",color:"hsl(0,0%,12%)",roughness:.13,metalness:1,transparency:.33,transparent:!0,depthWrite:!1,envMap:se}));r(110),r(111);var he=r(119);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function de(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var be=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=de(this,me(t).call(this));var r=new n.eb(3e3,3e3);return e.water=new he.a(r,{textureWidth:512,textureHeight:512,waterNormals:(new n.yb).load("assets/textures/waternormals.jpg",function(e){e.wrapS=e.wrapT=n.ob}),alpha:1,sunColor:16444401,waterColor:0,distortionScale:3.7}),e.water.rotation.x=-Math.PI/2,e.add(e.water),e}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,n["t"]),r=t,(o=[{key:"update",value:function(e,t){this.water.material.uniforms.time.value+=1/120}}])&&pe(r.prototype,o),i&&pe(r,i),t}();function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ge(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ke=ae.queue({url:"assets/models/Gallery.glb",type:"gltf"}),Ee=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=ge(this,Oe(t).call(this))).galleryGltf=ae.get(ke),r.add(r.galleryGltf.scene),r}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,n["t"]),r=t,(o=[{key:"setup",value:function(){this.galleryGltf.scene.traverse(function(e){if(e.material)switch(e.material.name){case"Neon":e.material=ue;break;case"Flower":e.material=ce;break;case"Stair-Pillar":e.material=le}e.name&&(e.name.includes("Menu")?webgl.interactables.push(e):e.name.includes("Camera"))})}}])&&ye(r.prototype,o),i&&ye(r,i),t}(),Pe=r(120),xe=(r(48),r(121));r(170);window.DEBUG=!0;var Se=new P({canvas:document.querySelector("#app"),alpha:!1,background:"#000",backgroundAlpha:1,postprocessing:!0,showFps:!0});window.DEBUG&&(window.webgl=Se,window.gui=new Pe.a),Se.canvas.style.visibility="hidden",ae.load({renderer:Se.renderer}).then(function(){console.log("load callback"),Se.canvas.style.visibility="",function(e){e.scene.background=se,e.scene.environment=se;var t=new n.u(16777215,16777215,.3);e.scene.hemiLight=t,e.scene.add(t);var r=new n.n(16777215,1);r.position.set(6,10,9),r.position.multiplyScalar(50),e.scene.lightDirKey=r,e.scene.add(r)}(Se);var e=new be;e.position.y=0,Se.scene.add(e);var t=new Ee(Se);Se.scene.gallery=t,Se.scene.add(t),t.setup();var r=new xe.a(new n.Eb(window.innerWidth,window.innerHeight),.4,0,.95);if(r.renderToScreen=!0,Se.bloomPass=r,Se.composer.addPass(r),window.DEBUG){var o=window.gui.addFolder("BloomPass");o.add(r,"threshold",0,3).step(.01),o.add(r,"strength",0,3).step(.01),o.add(r,"radius",0,1).step(.01)}Se.start(),Se.draw()})}});
//# sourceMappingURL=app.673caee1.js.map