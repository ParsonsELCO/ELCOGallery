!function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],h=0,f=[];h<s.length;h++)a=s[h],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);f.length;)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([159,1]),n()}({150:function(e,t){},159:function(e,t,n){"use strict";n.r(t);var r=n(0),o=(n(21),n(76),n(77),n(79),n(80),n(62),n(119),n(120),n(81),n(82),n(83),n(84),n(85),function(e,t){void 0===t&&(console.warn('THREE.EditorControls: The second parameter "domElement" is now mandatory.'),t=document),this.object=e,this.domElement=t,this.enabled=!0,this.movementSpeed=1,this.lookSpeed=.005,this.lookVertical=!0,this.autoForward=!1,this.activeLook=!0,this.heightSpeed=!1,this.heightCoef=1,this.heightMin=0,this.heightMax=1,this.constrainVertical=!1,this.verticalMin=0,this.verticalMax=Math.PI,this.mouseDragOn=!1,this.autoSpeedFactor=0,this.mouseX=0,this.mouseY=0,this.moveForward=!1,this.moveBackward=!1,this.moveLeft=!1,this.moveRight=!1,this.viewHalfX=0,this.viewHalfY=0;var n,o=0,i=0,a=new r.Fb,s=new r.ub,c=new r.Fb;function u(e){e.preventDefault()}this.domElement!==document&&this.domElement.setAttribute("tabindex",-1),this.handleResize=function(){this.domElement===document?(this.viewHalfX=window.innerWidth/2,this.viewHalfY=window.innerHeight/2):(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/2)},this.onMouseDown=function(e){this.domElement!==document&&this.domElement.focus(),this.mouseDragOn=!0},this.onMouseUp=function(e){this.mouseDragOn=!1},this.onMouseMove=function(e){this.domElement===document?(this.mouseX=e.pageX-this.viewHalfX,this.mouseY=e.pageY-this.viewHalfY):(this.mouseX=e.pageX-this.domElement.offsetLeft-this.viewHalfX,this.mouseY=e.pageY-this.domElement.offsetTop-this.viewHalfY)},this.onKeyDown=function(e){switch(e.keyCode){case 87:this.moveForward=!0;break;case 65:this.moveLeft=!0;break;case 83:this.moveBackward=!0;break;case 68:this.moveRight=!0;break;case 69:this.moveUp=!0;break;case 81:this.moveDown=!0;break;case 32:this.logPosAndRot()}},this.onKeyUp=function(e){switch(e.keyCode){case 87:this.moveForward=!1;break;case 65:this.moveLeft=!1;break;case 83:this.moveBackward=!1;break;case 68:this.moveRight=!1;break;case 69:this.moveUp=!1;break;case 81:this.moveDown=!1}},this.lookAt=function(e,t,n){return e.isVector3?c.copy(e):c.set(e,t,n),this.object.lookAt(c),b(this),this},this.update=(n=new r.Fb,function(e){if(!1!==this.enabled){this.autoSpeedFactor=0;var t=e*this.movementSpeed;(this.moveForward||this.autoForward&&!this.moveBackward)&&this.object.translateZ(-(t+this.autoSpeedFactor)),this.moveBackward&&this.object.translateZ(t),this.moveLeft&&this.object.translateX(-t),this.moveRight&&this.object.translateX(t),this.moveUp&&this.object.translateY(t),this.moveDown&&this.object.translateY(-t);var a=e*this.lookSpeed;this.activeLook||this.mouseDragOn||(a=0);var s=1;this.constrainVertical&&(s=Math.PI/(this.verticalMax-this.verticalMin)),i-=this.mouseX*a,this.lookVertical&&(o-=this.mouseY*a*s),o=Math.max(-85,Math.min(85,o));var c=r.M.degToRad(90-o),u=r.M.degToRad(i);this.constrainVertical&&(c=r.M.mapLinear(c,0,Math.PI,this.verticalMin,this.verticalMax));var l=this.object.position;n.setFromSphericalCoords(1,c,u).add(l),this.object.lookAt(n)}}),this.logPosAndRot=function(){console.log("camera position: THREE.Vector3("+this.object.position.x+", "+this.object.position.y+", "+this.object.position.z+")"),console.log("camera rotation: THREE.Euler("+this.object.rotation.x+", "+this.object.rotation.y+", "+this.object.rotation.z+"'XYZ')")},this.dispose=function(){this.domElement.removeEventListener("contextmenu",u,!1),this.domElement.removeEventListener("mousedown",h,!1),this.domElement.removeEventListener("mousemove",l,!1),this.domElement.removeEventListener("mouseup",f,!1),window.removeEventListener("keydown",p,!1),window.removeEventListener("keyup",d,!1)};var l=m(this,this.onMouseMove),h=m(this,this.onMouseDown),f=m(this,this.onMouseUp),p=m(this,this.onKeyDown),d=m(this,this.onKeyUp);function m(e,t){return function(){t.apply(e,arguments)}}function b(e){var t=e.object.quaternion;a.set(0,0,-1).applyQuaternion(t),s.setFromVector3(a),o=90-r.M.radToDeg(s.phi),i=r.M.radToDeg(s.theta)}this.domElement.addEventListener("contextmenu",u,!1),this.domElement.addEventListener("mousemove",l,!1),this.domElement.addEventListener("mousedown",h,!1),this.domElement.addEventListener("mouseup",f,!1),window.addEventListener("keydown",p,!1),window.addEventListener("keyup",d,!1),this.handleResize(),b(this)}),i=n(105),a=n.n(i);n(41),n(42),n(87),n(29),n(30),n(96),n(43),n(44);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.webgl=t,this.raycaster=new r.nb,this.coords=new r.Eb,this.pickedObject=null}var t,n,o;return t=e,(n=[{key:"onPointerDown",value:function(e,t){var n=s(t,2),r=n[0],o=n[1];this.coords.set(r/this.webgl.width*2-1,-o/this.webgl.height*2+1),this.raycaster.setFromCamera(this.coords,this.webgl.camera);this.raycaster.intersectObjects(this.webgl.interactables,!0)}},{key:"onPointerMove",value:function(e,t){var n=s(t,2),r=n[0],o=n[1];this.coords.set(r/this.webgl.width*2-1,-o/this.webgl.height*2+1),this.raycaster.setFromCamera(this.coords,this.webgl.camera);this.raycaster.intersectObjects(this.webgl.interactables)}},{key:"onPointerUp",value:function(e,t){var n=s(t,2);n[0],n[1]}}])&&u(t.prototype,n),o&&u(t,o),e}(),h=n(106),f=n.n(h),p=n(107),d=n(114),m=n(108);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var j=0;function O(e){return"__private_"+j+++"_"+e}var k=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.background,s=void 0===i?"#000":i,c=n.backgroundAlpha,u=void 0===c?1:c,h=n.fov,y=void 0===h?75:h,j=n.near,O=void 0===j?.1:j,k=n.far,M=void 0===k?1e3:k,D=n.editorControls,R=void 0===D||D,C=v(n,["background","backgroundAlpha","fov","near","far","editorControls"]);!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,E,{writable:!0,value:[]}),Object.defineProperty(this,P,{writable:!0,value:new r.Fb}),Object.defineProperty(this,x,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:void 0}),Object.defineProperty(this,T,{writable:!0,value:void 0}),this.resize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width,r=void 0===n?t.width:n,o=e.height,i=void 0===o?t.height:o,a=e.pixelRatio,s=void 0===a?t.pixelRatio:a;return t.renderer.getPixelRatio()!==s&&t.renderer.setPixelRatio(s),t.renderer.setSize(r,i),t.camera.isPerspectiveCamera&&(t.camera.aspect=r/i),t.camera.updateProjectionMatrix(),t.composer&&t.composer.setSize(s*r,s*i),t.editorControls&&t.editorControls.handleResize(),t.scene.traverse(function(e){"function"==typeof e.resize&&e.resize({width:r,height:i,pixelRatio:s})}),t.draw(),t},this.update=function(e,n,r){return t.editorControls&&t.editorControls.update(e),t.scene.traverse(function(t){"function"==typeof t.update&&t.update(e,n,r)}),g(t,E)[E].forEach(function(t){return t(e,n,r)}),t},this.draw=function(){return t.composer?t.composer.render():t.renderer.render(t.scene,t.camera),t},this.start=function(){if(!t.isRunning)return t.renderer.setAnimationLoop(t.animate),t.isRunning=!0,t},this.stop=function(){if(t.isRunning)return t.renderer.setAnimationLoop(null),t.isRunning=!1,t},this.animate=function(e,n){if(t.isRunning){t.stats&&t.stats.begin();var r=Math.min(t.maxDeltaTime,(e-g(t,x)[x])/1e3);t.time+=r,g(t,x)[x]=e,t.update(r,t.time,n),t.draw(),t.stats&&t.stats.end()}},this.traverse=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.scene.traverse(function(t){"function"==typeof t[e]&&t[e].apply(t,r)})},this.renderer=new r.Kb(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({antialias:!1,alpha:!1,preserveDrawingBuffer:!1},C)),this.canvas=this.renderer.domElement,this.renderer.setClearColor(s,u),C.xr&&(this.renderer.xr.enabled=!0),g(this,S)[S]=C.width,g(this,T)[T]=C.height,this.maxPixelRatio=C.maxPixelRatio||2,this.maxDeltaTime=C.maxDeltaTime||1/30,this.camera=new r.cb(y,1,O,M),this.camera.position.set(0,2,0),this.scene=new r.pb,this.gl=this.renderer.getContext(),this.time=0,this.isRunning=!1,g(this,x)[x]=performance.now(),window.addEventListener("resize",this.resize),window.addEventListener("orientationchange",this.resize),this.resize(),C.postprocessing&&(this.composer=new d.a(this.renderer),this.composer.addPass(new m.a(this.scene,this.camera))),this.pickHelper=new l(this),this.interactables=new Array,this.touchHandler=a()(this.canvas,{target:this.canvas,filtered:!0}),this.isDragging=!1,this.touchHandler.on("start",function(e,n){t.isDragging=!0,t.pickHelper.onPointerDown(e,n)}),this.touchHandler.on("move",function(e,n){t.pickHelper.onPointerMove(e,n)}),this.touchHandler.on("end",function(e,n){t.isDragging=!1}),R&&(this.editorControls=new o(this.camera,this.renderer.domElement),this.editorControls.movementSpeed=10,this.editorControls.lookSpeed=.1,this.editorControls.activeLook=!1),C.showFps&&(this.stats=new f.a,this.stats.showPanel(0),document.body.appendChild(this.stats.dom));var L=Object(p.getGPUTier)({glContext:this.renderer.getContext()});this.gpu={name:L.type,tier:Number(L.tier.slice(-1)),isMobile:L.tier.toLowerCase().includes("mobile")}}var t,n,i;return t=e,(n=[{key:"onUpdate",value:function(e){g(this,E)[E].push(e)}},{key:"offUpdate",value:function(e){var t=g(this,E)[E].indexOf(e);-1!==t&&g(this,E)[E].splice(t,1)}},{key:"width",get:function(){return g(this,S)[S]||window.innerWidth}},{key:"height",get:function(){return g(this,T)[T]||window.innerHeight}},{key:"pixelRatio",get:function(){return Math.min(this.maxPixelRatio,window.devicePixelRatio)}},{key:"cursor",get:function(){return this.canvas.style.cursor},set:function(e){this.canvas.style.cursor=e||null}}])&&y(t.prototype,n),i&&y(t,i),e}(),E=O("updateListeners"),P=O("tmpTarget"),x=O("lastTime"),S=O("width"),T=O("height"),M=(n(133),n(134),n(135),n(98),n(102),n(109)),D=n.n(M),R=n(47),C=n.n(R),L=n(46),_=n(110);n(152),n(153),n(155);function F(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function H(e,t){return A.apply(this,arguments)}function A(){var e;return e=regeneratorRuntime.mark(function e(t,n){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new r.xb).name=t,o.encoding=n.encoding||r.E,I(t,o,n),e.prev=4,e.next=7,Object(L.a)(t,{crossorigin:"anonymous"});case 7:return i=e.sent,o.image=i,o.needsUpdate=!0,n.renderer&&n.renderer.initTexture(o),e.abrupt("return",o);case 14:throw e.prev=14,e.t0=e.catch(4),new Error("Could not load texture ".concat(t));case 17:case"end":return e.stop()}},e,null,[[4,14]])}),(A=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){F(i,r,o,a,s,"next",e)}function s(e){F(i,r,o,a,s,"throw",e)}a(void 0)})}).apply(this,arguments)}function I(e,t,n){if("boolean"==typeof n.flipY&&(t.flipY=n.flipY),void 0!==n.mapping&&(t.mapping=n.mapping),void 0!==n.format)t.format=n.format;else{var o=e.search(/\.(jpg|jpeg)$/)>0||0===e.search(/^data:image\/jpeg/);t.format=o?r.mb:r.lb}n.repeat&&t.repeat.copy(n.repeat),t.wrapS=n.wrapS||r.h,t.wrapT=n.wrapT||r.h,t.minFilter=n.minFilter||r.G,t.magFilter=n.magFilter||r.F,t.generateMipmaps=!1!==n.generateMipmaps}function U(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function N(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Y(i,r,o,a,s,"next",e)}function s(e){Y(i,r,o,a,s,"throw",e)}a(void 0)})}}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){G(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var q=0;function K(e){return"__private_"+q+++"_"+e}var W=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,Q,{writable:!0,value:[]}),Object.defineProperty(this,Z,{writable:!0,value:{}}),Object.defineProperty(this,ee,{writable:!0,value:[]}),Object.defineProperty(this,te,{writable:!0,value:10}),Object.defineProperty(this,ne,{writable:!0,value:[]}),this.get=function(e){if(!e)throw new TypeError("Must specify an URL for AssetManager.get()");if(!(e in V(t,Z)[Z]))throw new Error("The asset ".concat(e," is not in the loaded files."));return V(t,Z)[Z][e]}}var t,n,r,o,i,a;return t=e,(n=[{key:"addProgressListener",value:function(e){if("function"!=typeof e)throw new TypeError("onProgress must be a function");V(this,ee)[ee].push(e)}},{key:"queue",value:function(e){var t=e.url,n=e.type,r=$(e,["url","type"]);if(!t)throw new TypeError("Must specify a URL or opt.url for AssetManager.queue()");return this._getQueued(t)||V(this,Q)[Q].push(X({url:t,type:n||this._extractType(t)},r)),t}},{key:"_getQueued",value:function(e){return V(this,Q)[Q].find(function(t){return t.url===e})}},{key:"_extractType",value:function(e){var t=e.slice(e.lastIndexOf("."));switch(!0){case/\.(gltf|glb)$/i.test(t):return"gltf";case/\.fbx$/i.test(t):return"fbx";case/\.json$/i.test(t):return"json";case/\.svg$/i.test(t):return"svg";case/\.(jpe?g|png|gif|bmp|tga|tif)$/i.test(t):return"image";case/\.(wav|mp3)$/i.test(t):return"audio";case/\.(mp4|webm|ogg|ogv)$/i.test(t):return"video";default:throw new Error("Could not load ".concat(e,", unknown file extension!"))}}},{key:"loadSingle",value:(a=N(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.renderer,r=$(t,["renderer"]),n){e.next=3;break}throw new Error("You must provide a renderer to the loadSingle function.");case 3:return e.prev=3,o=Date.now(),e.next=7,this._loadItem(X({renderer:n},r));case 7:return V(this,Z)[Z][r.url]=e.sent,window.DEBUG&&console.log("\ud83d\udce6 Loaded single asset %c".concat(r.url,"%c in ").concat(C()(Date.now()-o)),"color:blue","color:black"),e.abrupt("return",r.url);case 12:e.prev=12,e.t0=e.catch(3),delete V(this,Z)[Z][r.url],console.error("\ud83d\udce6  Could not load ".concat(r.url,":\n").concat(e.t0));case 16:case"end":return e.stop()}},e,this,[[3,12]])})),function(e){return a.apply(this,arguments)})},{key:"load",value:(i=N(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.renderer){e.next=3;break}throw new Error("You must provide a renderer to the load function.");case 3:if(r=V(this,Q)[Q].slice(),V(this,Q)[Q].length=0,0!==(o=r.length)){e.next=9;break}return setTimeout(function(){return V(s,ee)[ee].forEach(function(e){return e(1)})},0),e.abrupt("return");case 9:return i=Date.now(),e.next=12,D()(r,function(){var e=N(regeneratorRuntime.mark(function e(t,r){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=Date.now(),e.next=4,s._loadItem(X({renderer:n},t));case 4:V(s,Z)[Z][t.url]=e.sent,window.DEBUG&&s.log("Loaded %c".concat(t.url,"%c in ").concat(C()(Date.now()-i)),"color:blue","color:black"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s.logError("Skipping ".concat(t.url," from asset loading:\n").concat(e.t0));case 11:a=(r+1)/o,V(s,ee)[ee].forEach(function(e){return e(a)});case 13:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,n){return e.apply(this,arguments)}}(),{concurrency:V(this,te)[te]});case 12:window.DEBUG&&(a=V(this,ne)[ne].filter(function(e){return"error"===e.type}),this.groupLog("\ud83d\udce6 Assets loaded in ".concat(C()(Date.now()-i)," \u23f1 ").concat(a.length>0?"%c \u26a0\ufe0f Skipped ".concat(a.length," asset").concat(a.length>1?"s":""," "):""),a.length>0?"color:white;background:red;":""));case 13:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"_loadItem",value:(o=N(regeneratorRuntime.mark(function e(t){var n,r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url,r=t.type,o=t.renderer,i=$(t,["url","type","renderer"]),!(n in V(this,Z)[Z])){e.next=3;break}return e.abrupt("return",V(this,Z)[Z][n]);case 3:e.t0=r,e.next="gltf"===e.t0?6:"fbx"===e.t0?7:"json"===e.t0?8:"svg"===e.t0?9:"image"===e.t0?9:"texture"===e.t0?10:"audio"===e.t0?11:"video"===e.t0?12:13;break;case 6:return e.abrupt("return",new Promise(function(e,t){(new _.a).load(n,e,null,function(e){return t(new Error("Could not load GLTF asset ".concat(n,":\n").concat(e)))})}));case 7:return e.abrupt("return",new Promise(function(e,t){(new FBXLoader).load(n,e,null,function(e){return t(new Error("Could not load FBX asset ".concat(n,":\n").concat(e)))})}));case 8:return e.abrupt("return",fetch(n).then(function(e){return e.json()}));case 9:return e.abrupt("return",Object(L.a)(n,{crossorigin:"anonymous"}));case 10:return e.abrupt("return",H(n,X({renderer:o},i)));case 11:return e.abrupt("return",fetch(n).then(function(e){return e.arrayBuffer()}));case 12:return e.abrupt("return",fetch(n).then(function(e){return e.blob()}));case 13:throw new Error("Could not load ".concat(n,", the type ").concat(r," is unknown!"));case 14:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];V(this,ne)[ne].push({type:"log",text:t})}},{key:"logError",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];V(this,ne)[ne].push({type:"error",text:t})}},{key:"groupLog",value:function(){var e;(e=console).groupCollapsed.apply(e,arguments),V(this,ne)[ne].forEach(function(e){var t;(t=console)[e.type].apply(t,U(e.text))}),console.groupEnd(),V(this,ne)[ne].length=0}}])&&J(t.prototype,n),r&&J(t,r),e}(),Q=K("queue"),Z=K("cache"),ee=K("onProgressListeners"),te=K("asyncConcurrency"),ne=K("logs"),re=new W,oe=(new r.k).setPath("assets/textures/skybox/skyboxPink/").load(["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]),ie=new r.Ib(document.getElementById("video")),ae=new r.T({name:"Flower",color:"hsl(323, 66%, 67%)",roughness:.5,metalness:0,side:r.o}),se=(new r.T({name:"Building",color:"hsl(323, 66%, 67%)",roughness:.75,metalness:0}),new r.T({name:"Neon",color:16777215,emissive:16777215,emissiveIntensity:2,roughness:0,metalness:0})),ce=(new r.T({name:"Neon",color:"hsl(323, 66%, 67%)",emissive:"hsl(323, 66%, 67%)",emissiveIntensity:2,roughness:0,metalness:0}),new r.S({name:"StairPillar",color:"hsl(0,0%,50%)",roughness:.13,metalness:.8,envMap:oe})),ue=(new r.T({name:"Video",map:ie,roughness:1,metalness:0,emissive:16777215,emissiveIntensity:1,emissiveMap:ie}),new r.T({name:"Screen",color:"hsl(0,0%,0%)",roughness:1,metalness:0}),new r.T({name:"EHJwall",color:"hsl(0,0%,0%)",roughness:0,metalness:1,side:r.o})),le=new r.T({name:"EHJinlay",color:"hsl(64,100%,100%)",roughness:0,metalness:0,emissive:"hsl(64,100%,100%)",emissiveIntensity:1,side:r.o}),he=new r.T({name:"Marble",color:"hsl(0,0%,100%)",roughness:1,metalness:.2}),fe=new r.T({name:"MatteBlack",color:"hsl(0,0%,12%)",roughness:.85,metalness:.1}),pe=new r.T({name:"SteelFrame",color:"hsl(0,0%,75%)",roughness:.85,metalness:1}),de=new r.T({name:"WhiteSteel",color:"hsl(0,0%,90%)",roughness:.85,metalness:1});n(103),n(104);var me=n(111);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var je=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=ve(this,ye(t).call(this));var n=new r.eb(3e3,3e3);return e.water=new me.a(n,{textureWidth:512,textureHeight:512,waterNormals:(new r.yb).load("assets/textures/waternormals.jpg",function(e){e.wrapS=e.wrapT=r.ob}),alpha:1,sunColor:16444401,waterColor:0,distortionScale:3.7}),e.water.rotation.x=-Math.PI/2,e.add(e.water),e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(t,r["t"]),n=t,(o=[{key:"update",value:function(e,t){this.water.material.uniforms.time.value+=1/120}}])&&we(n.prototype,o),i&&we(n,i),t}();function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Se=re.queue({url:"assets/models/Gallery.glb",type:"gltf"}),Te=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ee(this,Pe(t).call(this))).galleryGltf=re.get(Se),n.add(n.galleryGltf.scene),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,r["t"]),n=t,(o=[{key:"setup",value:function(){var e=(new r.yb).load("assets/textures/videoTN/tnfruity.jpg"),t=(new r.yb).load("assets/textures/videoTN/tntogether.jpg"),n=(new r.yb).load("assets/textures/videoTN/tntoday.jpg"),o=(new r.yb).load("assets/textures/videoTN/tndisability.jpg"),i=(new r.yb).load("assets/textures/videoTN/tnehjmain.jpg"),a=(new r.yb).load("assets/textures/videoTN/tnehjmini.jpg"),s=new r.T({name:"TNfruity",map:e,roughness:.85,metalness:0}),c=new r.T({name:"TNehjMain",map:i,roughness:.85,metalness:0}),u=new r.T({name:"TNehjMini",map:a,roughness:.85,metalness:0}),l=new r.T({name:"TNtogether",map:t,roughness:.85,metalness:0}),h=new r.T({name:"TNtoday",map:n,roughness:.85,metalness:0}),f=new r.T({name:"TNfruity",map:o,roughness:.85,metalness:0});this.galleryGltf.scene.traverse(function(e){if(e.material)switch(e.material.name){case"Neon":e.material=se;break;case"Flower":e.material=ae;break;case"Stair-Pillar":e.material=ce;break;case"Car Paint - Black":e.material=ue;break;case"LED Yellow":e.material=le;break;case"steelframe1":e.material=pe;break;case"whitesteel":e.material=de;break;case"neon":e.material=se;break;case"marble":e.material=he;break;case"matteblack":e.material=fe}if(e.name)switch(e.name){case"ScreenFruity":e.material=s;break;case"ScreenTogether":e.material=l;break;case"ScreenToday":e.material=h;break;case"ScreenDisability":e.material=f;break;case"ScreenEHJmain":e.material=c;break;case"ScreenEHJp1":case"ScreenEHJp2":case"ScreenEHJp3":case"ScreenEHJp4":e.material=u}e.name&&(e.name.includes("Menu")?webgl.interactables.push(e):e.name.includes("Pedestal")&&webgl.interactables.push(e))})}}])&&ke(n.prototype,o),i&&ke(n,i),t}(),Me=n(112),De=(n(45),n(113));n(160);window.DEBUG=!0;var Re=new k({canvas:document.querySelector("#app"),alpha:!1,background:"#000",backgroundAlpha:1,postprocessing:!0,showFps:!1});window.DEBUG&&(window.webgl=Re,window.gui=new Me.a),Re.canvas.style.visibility="hidden",re.load({renderer:Re.renderer}).then(function(){console.log("load callback"),Re.canvas.style.visibility="",function(e){e.scene.background=oe,e.scene.environment=oe;var t=new r.u(16777215,16777215,.3);e.scene.hemiLight=t,e.scene.add(t);var n=new r.n(16777215,1);n.position.set(6,10,9),n.position.multiplyScalar(50),e.scene.lightDirKey=n,e.scene.add(n)}(Re);var e=new je;e.position.y=0,Re.scene.add(e);var t=new Te(Re);Re.scene.gallery=t,Re.scene.add(t),t.setup();var n=new De.a(new r.Eb(window.innerWidth,window.innerHeight),.4,0,.95);if(n.renderToScreen=!0,Re.bloomPass=n,Re.composer.addPass(n),window.DEBUG){var o=window.gui.addFolder("BloomPass");o.add(n,"threshold",0,3).step(.01),o.add(n,"strength",0,3).step(.01),o.add(n,"radius",0,1).step(.01)}Re.start(),Re.draw()})}});
//# sourceMappingURL=app.d253590f.js.map